source ~/.sh/aliases
source ~/.sh/functions

if [ -f ~/.sh/private ]; then
  source ~/.sh/private
fi

# don't remodify $PATH when tmux starts
#if [[ "$TMUX" == '' ]]; then
  source ~/.sh/variables

  if [ -s ~/Developer/cinderella.profile ] ; then source ~/Developer/cinderella.profile ; fi

  if [ -d ~/.rip  ]; then
    export RIPREPO=$HOME/code/fork/rip
    if [[ "$USER" == "gabrielhorner" ]]; then
      export RIPREPO=/Users/gabrielhorner/code/repo/rip
    fi;

    export PATH=$RIPREPO/bin:$PATH
    export MANPATH=$MANPATH:$RIPREPO/man
    export RUBYLIB=$RIPREPO/lib:$RUBYLIB
    export RIPDIR=$HOME/.rip
    export RIPHELPERS=1
  fi;
#fi;

## handle ruby managers
if [ -d ~/.rip  ]; then
  if [ "$SHELL" != '/bin/sh' ]; then
    eval `rip-config`
  fi;
fi;

if [[ "$RBENV" == '' ]]; then
  if [ -s ~/.rvm/scripts/rvm ] ; then source ~/.rvm/scripts/rvm ; fi
fi;

# doesn't suffer from tmux $PATH remodification, stupid /usr/libexec/path_helper
if [[ "$RBENV" != '' ]] && [[ -x $SMEAGOL_ROOT_DIR/.rbenv/bin/rbenv ]]; then
  export PATH="$SMEAGOL_ROOT_DIR/.rbenv/bin:$PATH";
  export RBENV_ROOT="$SMEAGOL_ROOT_DIR/.rbenv";
  eval "$(rbenv init -)"
fi
